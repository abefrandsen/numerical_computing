\lab{Python}{Vectorization}{Vectorization}
\label{lab:Python_Vectorization}

Vectorization is the act of useing defined operations on vectors (or arrays) instead of using loops. One simple example is the difference of using a for loop to mutiply individual elements in a vector and mutiplying the entire vector. Almost always, the vectorization code is shorter and, especially when the vector is large, faster.

This lab is some fun exercises using vectorization!

\section*{Shuffle}

This exercise is to write a program that shuffles a deck of a cards how a human woud shuffle them opposed to have a random number generator put them in a random arrangement. In order to this, first you break the deck in half. For the first card in each half the either the card in the first half goes down then the card in the second half or vice-versa. Which one happens is random. then you follow the procedure for the rest of the cards in the two halfs. The following is the code implemented using a loop. 

\begin{lstlisting}
def shuffle(deck):
    size = len(deck)
    newdeck=np.empty_like(deck)
    for i in xrange(size/2):
         num=random.randint(0,1)
         if num==0:
            newdeck[i*2]=deck[i]
            newdeck[i*2+1]=deck[size/2+i]
         else:
            newdeck[i*2]=deck[size/2+i]
            newdeck[i*2+1]=deck[i]
    return newdeck
\end{lstlisting}

\begin{problem}
Write a function that shuffles a deck similar to the function above using vectorization.
\end{problem}

\section*{Image Editor}

An image is a 3d array where the row and columns are the height and width respectively and the 3rd dimension is a array of 3 values which is red, green, and blue light intensity. You can import images by first importing matplotlib.pyplot as plt then plt.imread(image name) should read it in. It might be upside down. Use np.flipud to flip it right side up.

\begin{problem}
Write a function that is an image editor that inverts an image, changes it to grayscale, or adds a motion blur (definitions bellow). The function should take in a image, a parameter that tells how to motify the image and a optional parameter for the motion blur. It should then plot the image. import matplotlib.pyplot as plt, Use plt.imshow(image) then plt.show().
\end{problem}

Invert
Every color value for every pixel is changed to its inverse value. For example, 0 
becomes 255, 230 becomes 25, and 127 becomes 128. Remember that the minimum 
color value is 0 and the maximum is 255.

Grayscale
To convert an image to grayscale, each pixel’s color value is changed to the average of 
the pixel’s red, green, and blue value. For example:

Original pixel color values:
Red: 225 Green: 30 Blue: 131
Grayscale coversion: (225 + 30 + 131) / 3 = 128 (using integer division)
Red: 128 Green: 128 Blue: 128

Motion blur
An additional parameter will be used if we use motion blur. We will call this number n. n must be greater than 0.
The value of each color of each pixel is the average of that color value for n pixels (from 
the current pixel to n-1) horizontally. So pixel [x,y,0] would turn in to the average of pixel[ x, y,0 ] to pixel[ x,y+n-1,0] 
Example: if we store the pixels in a 2d array, the motion blur would average each color 
from Note: You will need to use a for loop here.
Be sure to account for the situations where one or more of the values used in the 
computing the average do not exist. For example, if an image has width w and we are 
considering the pixel on row r, column c, if c + n >= w, then we only average the pixels 
up to w. (For this problem do not worry too much about this case)

\section*{Using numpy.where}

The numpy.where function takes in a condition and changes the elements in the vector that fits the condition to one thing and the elements that do not to another. For example:

\begin{lstlisting}
x=np.array([-2,-1,0,1,2])
a=np.where(x<.5,-1,4)
\end{lstlisting}

is the same as

\begin{lstlisting}
x=np.array([-2,-1,0,1,2])
size=len(x)
a=np.zeros(size)
for i in range(size):
    if x[i]<.5:
        a[i]=-1
    else:
        a[i]=4
\end{lstlisting}

\begin{problem}
Use the np.where to change any intensity value on an image below ten to 245 and then plot it.
\end{problem}

\printbibliography

% \begin{thebibliography}{99}
% \bibitem{brualdi09}
% Richard Brualdi, 
% \emph{Introductory Combinatorics}.
% Pearson, New Jersey, 5th edition, 2009.
% 
% \end{thebibliography}
