\documentclass{newsiambook}
%\newcommand{\ProgrammingLanguage}{matlab}
\newcommand{\ProgrammingLanguage}{python}

\usepackage{hyperref}
\usepackage{import}
\usepackage{amsmath, amsfonts, amscd, amssymb}
\usepackage{mathtools}
\usepackage{epsfig}
\usepackage{graphicx}
\usepackage{url}
\usepackage{mathrsfs}
\usepackage{makeidx}
\usepackage{multicol}
\usepackage{color}
\usepackage{crop}
%\usepackage{appendix}
\usepackage{verbatim}
\usepackage{listings}
\usepackage{pseudocode}
\usepackage{framed}
%\usepackage{caption}
%\usepackage{fontspec}
%\usepackage[T1]{fontenc}
%\usepackage{beramono}
%\usepackage{caption}
%\DeclareCaptionFont{white}{\color{white}}
%\DeclareCaptionFormat{listing}{\colorbox[cmyk]{0.43, 0.35, 0.35,0.01}{\parbox{\textwidth}{\hspace{15pt}#1#2#3}}}
%\captionsetup[lstlisting]{format=listing,labelfont=white,textfont=white, singlelinecheck=false, margin=0pt, font={bf,footnotesize}}

%\usepackage{sagetex}
\usepackage{versions}
\usepackage{ifthen}
\include{include}
\crop
\makeindex
\newcommand{\objective}[1]{\vspace{5mm}{\bf Lesson Objective: } \emph{#1} \setcounter{problemnum}{0} \setcounter{equation}{0} \vspace{5mm}}
\renewcommand{\chaptername}{Lab}

\newcommand{\lab}[3]{\chapter[#3]{#1: #2}}
\providecommand{\abs}[1]{\lvert#1\rvert}
\providecommand{\norm}[1]{\lVert#1\rVert}


%\newcommand{\PythonVersion}{1}

% \captionsetup{style=base,
%               labelformat=default,
%               labelsep=endash,
%               justification=raggedright}

%\includeonly{./Applications_Combined/PageRank}
%\includeonly{./Algorithms_PyLabs/Complexity_py}
\begin{document}

%-------------------------------------------------------------
%This section is logic that switches from one language to another. Maybe it should be in another file...
\ifthenelse{\equal{\ProgrammingLanguage}{python}}
{
  \includeversion{python}
  \excludeversion{matlab}
  \newcommand{\li}[1]{\lstinline[style=python]!#1!}
  %\renewcommand{\lstincludelisting}[2]{\lstincludelisting[style=python]{#2}}
  \renewcommand{\ProgrammingLanguage}{Python }

  %table of commands
  %\newcommand{\inverse}{la.inv()}
}{}

\ifthenelse{\equal{\ProgrammingLanguage}{matlab}}
{
  \includeversion{matlab}
  \excludeversion{python}
  \newcommand{\li}[1]{\lstinline[style=matlab]!#1!}
  %\renewcommand{\lstincludelisting}[2]{\lstincludelisting[style=matlab]{#2}}
  \renewcommand{\ProgrammingLanguage}{MATLAB }

  %table of commands
  %\newcommand{\inverse}{inv}
}{}


\newenvironment{pseudo}[2]
    {\begin{pseudocode}[shadowbox]{#1}{#2}}
    {\end{pseudocode}}

%----------------------------------------------------------------
%Book cover and Front matter
\thispagestyle{empty}
\begin{center}
{\Huge \bf Applied Mathematics and Computing}

\vspace{10mm}
{\Large \bf \ProgrammingLanguage Edition}

\vspace{20mm}

\includegraphics[scale = .25]{Cover}
\end{center}
\frontmatter
\begin{contributors}
\contributor{J.~Humpherys}{Brigham Young University}
\contributor{J.~Webb}{Brigham Young University}
\contributor{R.~Murray}{Brigham Young University}
\contributor{J.~West}{University of Michigan}
\contributor{R.~Grout}{Brigham Young University}
\contributor{K.~Finlinson}{Brigham Young University}
\end{contributors}

%------------------------------------------------------------------
%The preface, which will presumably be longer in the future

\begin{thepreface}
This lab manual is designed to accompany the textbook \emph{Foundations of Applied Mathematics} by Dr.~J.~Humpherys.

\vfill
\copyright{This work is licensed under the Creative Commons Attribution 3.0 United States 
License.  You may copy, distribute, and display this copyrighted work only if you give 
credit to Dr.~J.~Humpherys. All derivative works must include an attribution to Dr.~J.~Humpherys as the owner of this work as well as the web address to 
\\\centerline{\url{https://github.com/ayr0/numerical_computing}}\\ as the original source of 
this 
work.\\To view a copy of the Creative Commons Attribution 3.0 License, 
visit\\\centerline{\url{http://creativecommons.org/licenses/by/3.0/us/}} or send a letter to 
Creative Commons, 171 Second Street, Suite 300, San Francisco, California, 94105, USA.}

\vfill
\centering\includegraphics[height=1.2cm]{by}
\vfill
\end{thepreface}
%-----------------------------------------------------------------

\setcounter{tocdepth}{1}
\tableofcontents

\mainmatter

%-----------------------------------------------------------------
%Programming Tutorials are in the following sections. They are split into different files dependent upon language

\begin{python}
%Python programming tutorials
\subimport{Ch0_Py/}{Py0}
\subimport{Python/}{basic}
\subimport{Python/}{advanced}

\subimport{./Algorithms/Matrices/}{Matrices1}
\subimport{./Algorithms/Matrices/}{Matrices2}

\subimport{./Algorithms/Functions/}{Functions}
\end{python}

\begin{matlab}
%Matlab programming tutorials
\subimport{./Ch0_MAT/}{Ch0V2}

\subimport{./Algorithms/MatricesM/}{Matrices1}
\subimport{./Algorithms/MatricesM/}{Matrices2}

\subimport{./Algorithms/FunctionsM/}{Functions}
\end{matlab}

\subimport{./Applications/MarkovGraph/}{MarkovGraph_C}




%----------------------------------------------------------
%The Elementary Matrices lab is combined into one file

\subimport{./Algorithms/ElemMatrices/}{ElemMatr_C}

%-----------------------------------------------------------
%The next few labs are more programming tutorial labs, and are split by language
\begin{python}
\subimport{./Algorithms/Conditionals/}{Conditionals}
\subimport{./Algorithms/Complexity/}{Complexity}
\end{python}

\begin{matlab}
\subimport{./Algorithms/ConditionalsM/}{Conditionals}
\subimport{./Algorithms/ComplexityM/}{Complexity}
\end{matlab}

\subimport{./Applications/Leontief/}{Leontief_C}

%-----------------------------------------------------------
%These labs are primarily Linear Algebra Labs (Factorizations and Applications)
%They are combined

\subimport{./Algorithms/QR/}{QR_C}
\subimport{./Applications/Statistics/}{Stats1_C}
\subimport{./Algorithms/Householder/}{Householder}
\subimport{./Algorithms/Givens/}{Givens} 
\subimport{./Applications/OrthoPoly/}{OrthoPoly_C}

\subimport{./Algorithms/EigSolver/}{Eig_C}
\subimport{./Applications/EigGraph/}{EigGraph_C}

\subimport{./Algorithms/Cholesky/}{Cholesky_C}
\subimport{./Applications/SVD/}{SVD_C}

%------------------------------------------------------------
%These labs are more advanced programming labs. They are separated by language.

\begin{python}
\subimport{./Algorithms/Functions/}{Functions2}
%\subimport{./Applications/Vectorization/}{Vectorization}

\subimport{./Applications/Recursion/}{Recursion}
%We need a profiler lab here.

\end{python}

\begin{matlab}
\subimport{./Algorithms/FunctionsM/}{Functions2}
\subimport{./Applications/Vectorization}{Vectorization}

\subimport{./Applications/RecursionM}{Recursion}
%\subimport{./Algorithms_MATLabs}{Profiler}
\end{matlab}

\subimport{./Applications/NormsGeometry/}{Norms_Geometry}

%-----------------------------------------------------------
%These labs cover the basics of differentiation, Newton's method and a number of related applications. These are combined labs

\subimport{./Algorithms/NumDeriv/}{FiniteDiff_C}
\subimport{./Applications/BeamBuckle/}{Beams_C}

\subimport{./Algorithms/MultiDeriv/}{FiniteDiff2_C}
\subimport{./Applications/ImgFilters/}{ImgFilters}

\subimport{./Applications/NewtonsMethod/}{Newton_C}
\subimport{./Applications/LevelSet/}{LevelSet}

\subimport{./Algorithms/Broyden/}{Broyden}
\subimport{./Applications/Julia/}{Julia}

\subimport{./Applications/PageRank/}{PageRank}
\subimport{./Algorithms/JacobiGaussSidel/}{Iterative1}
\subimport{./Algorithms/SuccOverRelax/}{Iterative2}
%Need permission and web address for internet.dat

%==================================================
%End of the first half
%==================================================


%---------------------------------------------------------------
%These labs cover integration and approximation theory. They are combined labs


%These labs still need to be merged/translated

\subimport{./Algorithms/Barycentric/}{Barycentric}
\subimport{./Applications/MC/}{MC}

\subimport{./Algorithms/NewtonCotes/}{NCInteg}
\subimport{./Applications/VarianceReduction/}{VEGAS}

\subimport{./Algorithms/Splines/}{Splines}
\subimport{./Applications/Tesselation/}{Tess}

\subimport{./Algorithms/GaussQuad/}{GaussQuad}
\subimport{./Applications/NURBS/}{NURBS_C}

%---------------------------------------------------------------
%This is one lab about more advanced visualization topics. It will be split by language

\begin{matlab}
\subimport{./Algorithms/SciVizM/}{SciViz}
\end{matlab}

\begin{python}
\subimport{./Algorithms/SciViz/}{SciViz}
\end{python}

%---------------------------------------------------------------
%A few labs related to complex mappings and the perspective transform. These labs are combined.

%These labs need translation and merging

\subimport{./Applications/ConfMaps/}{ConfMaps}

\subimport{./Algorithms/PerspectiveTransform/}{PerspTrans_C}
\subimport{./Applications/RiemannSphere/}{RiemannSphere_C}

%---------------------------------------------------------------
%These labs cover plotting and visualization. They will be separated by language

\begin{matlab}
%\subimport{./Algorithms/}{GraphicsHandles}
%\subimport{./Applications_MATLabs/}{TimeDelay}

%\subimport{./Algorithms_MATLabs/}{Motion3D}
\end{matlab}

\begin{python} 
%\subimport{./Algorithms_PyLabs/}{GraphicsHandles}
%\subimport{./Applications_PyLabs/}{TimeDelay}

%\subimport{./Algorithms_PyLabs/}{Motion3D}
\end{python}

%----------------------------------------------------------------
%These labs cover a wide variety of applications, and finish off the book. They will be combined

%\subimport{./Applications/RayTracing/}{RayTracing}

\subimport{./Algorithms/JordanSchur/}{Jordan}
\subimport{./Applications/LagSylvInterp/}{LagSylvInterp}

\subimport{./Algorithms/Krylov/}{Krylov}
\subimport{./Applications/MarkovPerron/}{MarkovPerron}

\subimport{./Algorithms/MoorePenrose/}{MP}
\subimport{./Applications/MoorePenrose/}{MPApp}
%\include{./Algorithms_Combined/MoorePenrose/MP}%Needs to be translated (FWG) --Python Lacks an eigs command, which makes translation of the middle subsection difficult

\subimport{./Algorithms/Drazin/}{Drazin}
\subimport{./Applications/MarkovCount/}{MarkovCount}

%There will be four group theory labs here as well, but we don't have stubs for those yet.

%\appendix
%\appendixpage
%\addappheadtotoc
%\include{simulink}
\end{document}
